"use strict";(self.webpackChunksrc=self.webpackChunksrc||[]).push([[80],{7036:(e,t,n)=>{var a=n(4836);t.Z=void 0;var r=a(n(4938)),o=n(5893),i=(0,r.default)((0,o.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");t.Z=i},3343:(e,t,n)=>{var a=n(4836);t.Z=void 0;var r=a(n(4938)),o=n(5893),i=(0,r.default)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");t.Z=i},1733:(e,t,n)=>{var a=n(4836);t.Z=void 0;var r=a(n(4938)),o=n(5893),i=(0,r.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=i},8364:(e,t,n)=>{var a=n(4836);t.Z=void 0;var r=a(n(4938)),o=n(5893),i=(0,r.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");t.Z=i},7957:(e,t,n)=>{var a=n(4836);t.Z=void 0;var r=a(n(4938)),o=n(5893),i=(0,r.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=i},9929:(e,t,n)=>{var a=n(4836);t.Z=void 0;var r=a(n(4938)),o=n(5893),i=(0,r.default)((0,o.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),"FileDownload");t.Z=i},3397:(e,t,n)=>{var a=n(4836);t.Z=void 0;var r=a(n(4938)),o=n(5893),i=(0,r.default)((0,o.jsx)("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}),"FileUpload");t.Z=i},655:(e,t,n)=>{var a=n(4836);t.Z=void 0;var r=a(n(4938)),o=n(5893),i=(0,r.default)((0,o.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow");t.Z=i},4080:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Q});var a=n(7294),r=n(2361),o=n(3118),i=n(2642),s=n(6020),l=n(9062),c=n(2658),d=n(2440),u=n(3366),m=n(7462),p=n(6010),v=n(4780),f=n(8442),h=n(1796),g=n(2077),Z=n(6122),b=n(539),x=n(8502),y=n(8974),E=n(1705),C=n(9773),S=n(1588),I=n(4867);function M(e){return(0,I.Z)("MuiListItem",e)}const k=(0,S.Z)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),w=(0,S.Z)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function F(e){return(0,I.Z)("MuiListItemSecondaryAction",e)}(0,S.Z)("MuiListItemSecondaryAction",["root","disableGutters"]);var L=n(5893);const N=["className"],A=(0,g.ZP)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})((({ownerState:e})=>(0,m.Z)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0}))),P=a.forwardRef((function(e,t){const n=(0,Z.Z)({props:e,name:"MuiListItemSecondaryAction"}),{className:r}=n,o=(0,u.Z)(n,N),i=a.useContext(C.Z),s=(0,m.Z)({},n,{disableGutters:i.disableGutters}),l=(e=>{const{disableGutters:t,classes:n}=e,a={root:["root",t&&"disableGutters"]};return(0,v.Z)(a,F,n)})(s);return(0,L.jsx)(A,(0,m.Z)({className:(0,p.Z)(l.root,r),ownerState:s,ref:t},o))}));P.muiName="ListItemSecondaryAction";const z=P,O=["className"],$=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],j=(0,g.ZP)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((({theme:e,ownerState:t})=>(0,m.Z)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&(0,m.Z)({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${w.root}`]:{paddingRight:48}},{[`&.${k.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${k.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,h.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${k.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,h.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${k.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},"flex-start"===t.alignItems&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${k.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,h.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,h.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48}))),G=(0,g.ZP)("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),R=a.forwardRef((function(e,t){const n=(0,Z.Z)({props:e,name:"MuiListItem"}),{alignItems:r="center",autoFocus:o=!1,button:i=!1,children:s,className:l,component:c,components:d={},componentsProps:h={},ContainerComponent:g="li",ContainerProps:{className:S}={},dense:I=!1,disabled:w=!1,disableGutters:F=!1,disablePadding:N=!1,divider:A=!1,focusVisibleClassName:P,secondaryAction:R,selected:V=!1,slotProps:B={},slots:H={}}=n,D=(0,u.Z)(n.ContainerProps,O),T=(0,u.Z)(n,$),q=a.useContext(C.Z),W=a.useMemo((()=>({dense:I||q.dense||!1,alignItems:r,disableGutters:F})),[r,q.dense,I,F]),J=a.useRef(null);(0,y.Z)((()=>{o&&J.current&&J.current.focus()}),[o]);const U=a.Children.toArray(s),K=U.length&&(0,x.Z)(U[U.length-1],["ListItemSecondaryAction"]),Y=(0,m.Z)({},n,{alignItems:r,autoFocus:o,button:i,dense:W.dense,disabled:w,disableGutters:F,disablePadding:N,divider:A,hasSecondaryAction:K,selected:V}),_=(e=>{const{alignItems:t,button:n,classes:a,dense:r,disabled:o,disableGutters:i,disablePadding:s,divider:l,hasSecondaryAction:c,selected:d}=e,u={root:["root",r&&"dense",!i&&"gutters",!s&&"padding",l&&"divider",o&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",c&&"secondaryAction",d&&"selected"],container:["container"]};return(0,v.Z)(u,M,a)})(Y),Q=(0,E.Z)(J,t),X=H.root||d.Root||j,ee=B.root||h.root||{},te=(0,m.Z)({className:(0,p.Z)(_.root,ee.className,l),disabled:w},T);let ne=c||"li";return i&&(te.component=c||"div",te.focusVisibleClassName=(0,p.Z)(k.focusVisible,P),ne=b.Z),K?(ne=te.component||c?ne:"div","li"===g&&("li"===ne?ne="div":"li"===te.component&&(te.component="div")),(0,L.jsx)(C.Z.Provider,{value:W,children:(0,L.jsxs)(G,(0,m.Z)({as:g,className:(0,p.Z)(_.container,S),ref:Q,ownerState:Y},D,{children:[(0,L.jsx)(X,(0,m.Z)({},ee,!(0,f.Z)(X)&&{as:ne,ownerState:(0,m.Z)({},Y,ee.ownerState)},te,{children:U})),U.pop()]}))})):(0,L.jsx)(C.Z.Provider,{value:W,children:(0,L.jsxs)(X,(0,m.Z)({},ee,{as:ne,ref:Q},!(0,f.Z)(X)&&{ownerState:(0,m.Z)({},Y,ee.ownerState)},te,{children:[U,R&&(0,L.jsx)(z,{children:R})]}))})}));var V=n(6867),B=n(1733),H=n(655),D=n(7957),T=n(8364),q=n(9929),W=n(3397),J=n(6818),U=n(7036),K=n(3343),Y=n(1636),_=n(7426);function Q({smartSave:e,setSmartSave:t,apiServer:n,showAlert:u,loadServerSettings_FLAG:m}){const[p,v]=(0,a.useState)(""),[f,h]=(0,a.useState)({open:!1,type:"import",string:"==",rows:10}),[g,Z]=(0,a.useState)([]),[b,x]=(0,_.uT)({index:-1,prevName:""}),[y,E]=(0,a.useState)(-1),[C,S]=(0,_.uT)(!0);function I(){(0,Y.MZ)(n).then((e=>{Z(null!=e?e:[])})).catch((()=>{u("Cannot connect to server","error")})).finally((()=>{S(!1)}))}function M(t){if(t<0){var a={...f,open:!0,type:"export",string:btoa(JSON.stringify(e))};h(a),u("Exported effect","success")}else S(!0).then((()=>{(0,Y.OT)(n,!1,g[t]).then((e=>{var t={...f,open:!0,type:"export",string:btoa(JSON.stringify(e))};h(t),u("Exported effect","success")})).catch((()=>{u("Cannot connect to Server","error")})).finally((()=>{S(!1)}))}))}function k(){var e=[...g];e[b.index]=b.prevName,Z(e);var t={...b,index:-1};x(t)}function w(){g.filter((e=>e==g[b.index])).length>1?u("Effect name already exists","error"):S(!0).then((()=>{(0,Y.bK)(n,b.prevName,g[b.index]).then((()=>{var e={...b,index:-1};x(e),u("Renamed","success")})).catch((()=>{u("Cannot connect to server","error")})).finally((()=>{S(!1)}))}))}return(0,a.useEffect)(I,[]),(0,a.useEffect)((()=>{m.do&&I()}),[m]),(0,a.useEffect)((function(){var e=document.getElementById("importExportModal"),t=document.getElementById("importButton");if(e){var n={...f,rows:(e.clientHeight-33-(t?t.clientHeight+10:0))/23};h(n)}}),[f.open]),a.createElement(a.Fragment,null,a.createElement(r.Z,{keepMounted:!0,open:f.open,onClose:()=>{var e={...f,open:!1};h(e)}},a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"75%",height:"75%",backgroundColor:"#1e1e1e",borderRadius:"6px",padding:"10px"}},a.createElement("div",{id:"importExportModal",style:{display:"flex",flexDirection:"column",height:"100%",alignItems:"stretch"}},a.createElement("div",{style:{marginBottom:"import"==f.type?"10px":0}},a.createElement(o.Z,{value:f.string,onChange:e=>{if("import"==f.type){var t={...f,string:e.target.value};h(t)}},placeholder:"Import String",rows:f.rows,fullWidth:!0,multiline:!0})),"import"==f.type?a.createElement(i.Z,{id:"importButton",variant:"contained",fullWidth:!0,onClick:function(){try{var e=JSON.parse(atob(f.string));t(e);var n={...f,open:!1};h(n),u("Imported effect","success")}catch{u("Invalid import string","error")}}},"Import"):a.createElement(a.Fragment,null)))),a.createElement("div",{style:{position:"absolute",width:"100%",height:"100%"}},a.createElement(s.Z,{sx:{color:"#FFFFFF",zIndex:e=>e.zIndex.drawer+1,position:"absolute"},open:C},a.createElement(l.Z,{color:"inherit"})),a.createElement("div",{style:{height:"100%",margin:"10px"}},a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"calc(100% - 10px)"}},0==g.length?a.createElement(c.Z,{variant:"body1",sx:{textAlign:"center"}},"No Saves"):a.createElement(a.Fragment,null),a.createElement(d.Z,{sx:{width:"100%",overflow:"auto"}},g.map(((e,r)=>a.createElement(R,{sx:{borderBottom:"1px solid #ffffff22"}},a.createElement(V.Z,{onClick:()=>{!function(e){S(!0).then((()=>{(0,Y.xz)(n,g[e]).then((e=>{t(e),u("Loaded effect","success")})).catch((()=>{u("Cannot connect to Server","error")})).finally((()=>{S(!1)}))}))}(r)}},a.createElement(H.Z,null)),a.createElement(o.Z,{id:"saveListItem"+r+"Name",variant:"standard",onChange:e=>{var t=[...g];t[r]=e.target.value,Z(t)},value:e,disabled:b.index!=r,sx:{"& .MuiInputBase-input.Mui-disabled":{WebkitTextFillColor:"#fff"}},InputProps:{disableUnderline:b.index!=r}}),b.index!=r?a.createElement(V.Z,{onClick:()=>{!function(e){b.index>=0&&k();var t={...b,index:e,prevName:g[e]};x(t).then((()=>{document.getElementById("saveListItem"+e+"Name").focus()}))}(r)}},a.createElement(D.Z,null)):a.createElement(a.Fragment,null,a.createElement(V.Z,{onClick:w},a.createElement(U.Z,null)),a.createElement(V.Z,{onClick:k},a.createElement(K.Z,null))),a.createElement("div",{style:{marginRight:0,marginLeft:"auto"}},a.createElement(V.Z,{onClick:()=>{M(r)}},a.createElement(W.Z,null)),a.createElement(V.Z,{onClick:()=>{!function(e){y==e?S(!0).then((()=>{(0,Y.tx)(n,g[y]).then((()=>{var e=[...g];e.splice(y,1),Z(e),E(-1),u("Deleted","success")})).catch((()=>{u("Cannot connect to server","error")})).finally((()=>{S(!1)}))})):E(e)}(r)}},y==r?a.createElement(T.Z,null):a.createElement(B.Z,null))))))),a.createElement("div",{style:{display:"flex",alignItems:"center"}},a.createElement(o.Z,{value:p,sx:{marginBottom:"10px"},onChange:e=>{v(e.target.value)},label:"Name",variant:"standard",fullWidth:!0}),a.createElement(V.Z,{onClick:function(){g.includes(p)?u("Effect name already exists","error"):S(!0).then((()=>{(0,Y.f3)(n,p,e).then((()=>{var e=[...g];e.push(p),Z(e),v(""),u("Saved effect","success")})).catch((()=>{u("Cannot connect to server","error")})).finally((()=>{S(!1)}))}))}},a.createElement(J.Z,null)),a.createElement(V.Z,{onClick:()=>{M(-1)}},a.createElement(W.Z,null)),a.createElement(V.Z,{onClick:()=>{var e={...f,open:!0,type:"import",string:""};h(e)}},a.createElement(q.Z,null)))))))}}}]);